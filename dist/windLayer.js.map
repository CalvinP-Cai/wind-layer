{"version":3,"file":"windLayer.js","sources":["../src/polyfill/assign.js","../src/helper/index.js","../src/polyfill/requestAnimFrame.js","../node_modules/quickselect/quickselect.js","../node_modules/rbush/index.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/lib/bytesToUuid.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../src/index.js"],"sourcesContent":["if (typeof Object.assign !== 'function') {\r\n  // Must be writable: true, enumerable: false, configurable: true\r\n  Object.defineProperty(Object, 'assign', {\r\n    value: function assign (target, varArgs) { // .length of function is 2\r\n      'use strict';\r\n      if (target == null) { // TypeError if undefined or null\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n      }\r\n      var to = Object(target);\r\n      for (var index = 1; index < arguments.length; index++) {\r\n        var nextSource = arguments[index];\r\n        if (nextSource != null) { // Skip over if undefined or null\r\n          for (var nextKey in nextSource) {\r\n            // Avoid bugs when hasOwnProperty is shadowed\r\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n              to[nextKey] = nextSource[nextKey];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    },\r\n    writable: true,\r\n    configurable: true\r\n  });\r\n}\r\n","/**\n * @returns {Number} the value x clamped to the range [low, high].\n */\nconst clamp = function (x, range) {\n  return Math.max(range[0], Math.min(x, range[1]));\n};\n\n/**\n * @returns {Boolean} true if agent is probably a mobile device. Don't really care if this is accurate.\n */\nconst isMobile = function () {\n  return (/android|blackberry|iemobile|ipad|iphone|ipod|opera mini|webos/i).test(navigator.userAgent);\n};\n\n/**\n * create canvas\n * @param width\n * @param height\n * @param Canvas\n * @returns {HTMLCanvasElement}\n */\nconst createCanvas = (width, height, Canvas) => {\n  if (typeof document !== 'undefined') {\n    const canvas = document.createElement('canvas')\n    canvas.width = width\n    canvas.height = height\n    return canvas\n  } else {\n    // create a new canvas instance in node.js\n    // the canvas class needs to have a default constructor without any parameter\n    return new Canvas(width, height)\n  }\n};\n\n/**\n * bind\n * @param fn\n * @param context\n * @returns {Function}\n */\nconst bind = function (fn, context) {\n  const args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;\n  return function () {\n    return fn.apply(context, args || arguments);\n  };\n};\n\nexport {\n  bind,\n  clamp,\n  isMobile,\n  createCanvas\n}\n","import { bind } from '../helper'\n\nwindow.requestAnimFrame = function (fn, immediate, context, element) {\n  const f = bind(fn, context);\n  const request = (window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function (callback) {\n      window.setTimeout(callback, 1000 / 60);\n    });\n  if (request) {\n    return request.call(window, f, element);\n  } else {\n    if (immediate) {\n      f();\n    } else {\n      return window.setTimeout(f, 16);\n    }\n  }\n};\n\nconst getCancelAnimFrame = function () {\n  const prefixs = ['webkit', 'moz', 'o', 'ms'];\n  let func = window.cancelAnimationFrame;\n  for (let i = 0, len = prefixs.length; i < len && !func; i++) {\n    func = window[prefixs[i] + 'CancelAnimationFrame'] || window[prefixs[i] + 'CancelRequestAnimationFrame'];\n  }\n  return func;\n};\n\nwindow.cancelAnimFrame = function (id) {\n  const cancel = getCancelAnimFrame();\n  if (cancel) {\n    cancel.call(window, id);\n  } else {\n    window.clearTimeout(id);\n  }\n};\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.quickselect = factory());\n}(this, (function () { 'use strict';\n\nfunction quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nreturn quickselect;\n\n})));\n","'use strict';\n\nmodule.exports = rbush;\nmodule.exports.default = rbush;\n\nvar quickselect = require('quickselect');\n\nfunction rbush(maxEntries, format) {\n    if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX,\n    compareMinY: compareNodeMinY,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea(child);\n                enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox(node, 0, i, this.toBBox);\n            bbox2 = distBBox(node, i, M, this.toBBox);\n\n            overlap = intersectionArea(bbox1, bbox2);\n            area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox(node, 0, m, toBBox),\n            rightBBox = distBBox(node, M - m, M, toBBox),\n            margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import './polyfill/assign';\nimport './polyfill/requestAnimFrame';\nimport ol from 'openlayers';\nimport rbush from 'rbush';\nimport uuid from 'uuid';\nimport { isMobile, createCanvas } from './helper';\n\nconst _options = {\n  gridPixels: 4, // 用于插值的网格像素边长\n  gridMaxDivs: 200, // 最大网格边划分数量\n  gridReduceFactor: 2, // 在移动设备上适当减少网格数量的比例\n  fieldFactor: 0.8,\n  fieldMaxIntensity: 50, // 可视化时限制的流体场最大强度，比如风速最大值\n  maxParticleAge: 100,\n  particleCountFactor: 0.05,\n  lineWidth: 1.2,\n  opacity: 1.0,\n  colors: ['#fff', '#fff', '#fff', '#fff', '#fff'],\n  searchSteps: 3, // 插值检索的尝试次数\n  interpolateCount: 4, // 插值使用的数据数量\n  frameRate: 15\n};\n\nconst NULL_WIND_VECTOR = [NaN, NaN, null];\n\nclass WindyLayer extends ol.layer.Image {\n  constructor (data, options = {}) {\n    super(options);\n\n    this._options = Object.assign({}, _options, options);\n\n    /**\n     * 矢量图层\n     * @type {null}\n     */\n    this._canvas = null;\n\n    /**\n     * windy 数据\n     */\n    this.data = data;\n\n    /**\n     * btree\n     * @type {rbush|Object}\n     * @private\n     */\n    this._tree = rbush();\n\n    /**\n     * columns\n     * @type {Array}\n     * @private\n     */\n    this._columns = [];\n    this._dirty = true;\n\n    /**\n     * is playing\n     * @type {boolean}\n     * @private\n     */\n    this._playing = false;\n\n    /**\n     * animate\n     * @type {null}\n     * @private\n     */\n    this._animationLoop = null;\n\n    /**\n     * is clear\n     * @type {boolean}\n     */\n    this.isClear = false;\n    this.setSource(new ol.source.ImageCanvas({\n      logo: options.logo,\n      state: options.state,\n      attributions: options.attributions,\n      resolutions: options.resolutions,\n      canvasFunction: this.canvasFunction.bind(this),\n      projection: (options.hasOwnProperty('projection') ? options.projection : 'EPSG:3857'),\n      ratio: (options.hasOwnProperty('ratio') ? options.ratio : 1)\n    }));\n    this.on('precompose', this.redraw, this);\n  }\n\n  /**\n   * get layer data\n   * @returns {*}\n   */\n  getData () {\n    return this.data;\n  }\n\n  /**\n   * set layer data\n   * @param data\n   * @returns {WindyLayer}\n   */\n  setData (data) {\n    const _map = this.getMap();\n    if (!_map) return this;\n    this.data = data;\n    let [us, vs] = [this.data[0], this.data[1]];\n    let [cols, rows] = [us.header.nx, us.header.ny];\n    const _projection = this.get('projection')\n    for (let j = 0; j < rows; j++) {\n      const lat = 90 - 180 * j / rows;\n      if (Math.abs(lat) > 85.1) {\n        continue;\n      }\n      for (let i = 0; i < cols; i++) {\n        const lon = -180 + 360 * i / cols;\n        const point = ol.proj.transform([lon, lat], _projection, 'EPSG:4326');\n        const idx = cols * j + i;\n        const u = us.data[idx];\n        const v = vs.data[idx];\n        this.addDataPoint(point[0], point[1], u, v);\n      }\n    }\n    return this\n  }\n\n  /**\n   * add point\n   * @param x\n   * @param y\n   * @param uid\n   * @param value\n   * @param feature\n   */\n  addDataPoint (x, y, uid, value, feature) {\n    uid = uid || 0;\n    value = value || 0;\n    const extent = [x, y, x, y];\n    const data = {\n      x: x,\n      y: y,\n      u: uid,\n      v: value,\n      bbox: extent,\n      id: uuid()\n    };\n    this._tree.insert(extent, data);\n    return data.id;\n  }\n\n  /**\n   * render windy layer\n   * @returns {WindyLayer}\n   */\n  render (canvas) {\n    const extent = this._getExtent();\n    if (this.isClear || !this.getData() || !extent) return this\n    if (!this.getData()) return this\n    if (canvas && !this._playing) {\n      this.start()\n    } else if (canvas && this._playing) {\n    }\n    return this\n  }\n\n  /**\n   * re-draw\n   */\n  redraw () {\n    if (this.isClear) return;\n    const _extent = this._options.extent || this._getExtent();\n    this.setExtent(_extent)\n  }\n\n  /**\n   * build grid\n   */\n  buildGrid () {\n    const map = this.getMap();\n    if (!map || !this._dirty) {\n      return;\n    }\n    const _size = map.getSize();\n    const _extent = this._options.extent || this._getExtent();\n    const dim = Math.max(_size[0], _size[1]);\n    let gridDivs = Math.min(dim / this._options.gridPixels, this._options.gridMaxDivs);\n    if (isMobile()) {\n      gridDivs /= this._options.gridReduceFactor;\n    }\n    const gridSize = this._gridSize = Math.max(_extent[2] - _extent[0], _extent[3] - _extent[1]) / gridDivs;\n    // 采样范围\n    const searches = this._tree.search(_extent);\n    const count = searches && searches.length;\n    const divCount = Math.sqrt(count) || 1;\n    const expand = Math.max((_extent[2] - _extent[0]), (_extent[3] - _extent[1])) / divCount;\n    var tryExpand, tryCount;\n    // 构建格网\n    this._gridColCount = Math.ceil((_extent[2] - _extent[0]) / gridSize);\n    this._gridRowCount = Math.ceil((_extent[3] - _extent[1]) / gridSize);\n    const grid = [];\n    for (let j = 0, jLen = this._gridRowCount + 1; j < jLen; j++) {\n      let y = _extent[1] + j * gridSize;\n      if (y >= _extent[1] && y <= _extent[3]) {\n        const row = [];\n        for (let i = 0, iLen = this._gridColCount + 1; i < iLen; i++) {\n          let x = _extent[0] + i * gridSize;\n          row[i] = this._interpolate(x, y, [x - expand, y - expand, x + expand, y + expand]);\n          tryCount = 1;\n          while (row[i][2] === null && tryCount <= this._options.searchSteps) {\n            tryCount *= 2;\n            tryExpand = tryCount * expand;\n            row[i] = this._interpolate(x, y, [x - tryExpand, y - tryExpand, x + tryExpand, y + tryExpand]);\n          }\n        }\n        grid[j] = row;\n      }\n    }\n    this._columns = grid;\n    this._dirty = false;\n  }\n\n  /**\n   * canvas constructor\n   * @param extent\n   * @param resolution\n   * @param pixelRatio\n   * @param size\n   * @param projection\n   * @returns {*}\n   */\n  canvasFunction (extent, resolution, pixelRatio, size, projection) {\n    if (!this._canvas) {\n      this._canvas = createCanvas(size[0], size[1])\n    } else {\n      this._canvas.width = size[0]\n      this._canvas.height = size[1]\n    }\n    if (resolution <= this.get('maxResolution')) {\n      this.render(this._canvas)\n    } else {\n      // console.warn('超出所设置最大分辨率！')\n    }\n    return this._canvas\n  }\n\n  /**\n   * get context\n   * @returns {*}\n   */\n  getContext () {\n    return this._canvas && this._canvas.getContext('2d');\n  }\n\n  /**\n   * get map current extent\n   * @returns {ol.View|*|Array<number>}\n   * @private\n   */\n  _getExtent () {\n    if (!this.getMap()) return\n    const size = this._getMapSize()\n    const _view = this.getMap().getView()\n    return _view && _view.calculateExtent(size)\n  }\n\n  /**\n   * get size\n   * @returns {ol.Size|*}\n   * @private\n   */\n  _getMapSize () {\n    if (!this.getMap()) return\n    return this.getMap().getSize()\n  }\n\n  /**\n   * append layer to map\n   * @param map\n   */\n  appendTo (map) {\n    if (map && map instanceof ol.Map) {\n      this.set('originMap', map)\n      map.addLayer(this)\n    } else {\n      throw new Error('not map object')\n    }\n  }\n\n  /**\n   * clearWind method will retain the instance\n   * @private\n   */\n  clearWind () {\n    const _map = this.getMap();\n    if (!_map) return;\n    this.isClear = true;\n    this._cloneLayer = this;\n    _map.removeLayer(this);\n    this.changed();\n    this.getMap().renderSync();\n  }\n\n  /**\n   * remove layer this instance will be destroyed after remove\n   */\n  removeLayer () {\n    const _map = this.getMap();\n    if (!_map) return;\n    this.un('precompose', this.redraw, this);\n    _map.removeLayer(this);\n    delete this._canvas;\n    delete this._cloneLayer;\n  }\n\n  /**\n   * set map\n   * @param map\n   */\n  setMap (map) {\n    this.set('originMap', map)\n    // ol.layer.Image.prototype.setMap.call(this, map)\n  }\n\n  /**\n   * get map\n   */\n  getMap () {\n    return this.get('originMap')\n  }\n\n  /**\n   * start ani\n   * @returns {WindyLayer}\n   */\n  start () {\n    const that = this;\n    this.buildGrid();\n    let then = Date.now();\n    that._playing = true;\n    (function frame () {\n      that._animationLoop = window.requestAnimFrame(frame);\n      const now = Date.now()\n      const delta = now - then;\n      if (delta > 1000 / that._options.frameRate) {\n        then = now - (delta % 1000 / that._options.frameRate);\n        that._evolve();\n        that._draw();\n      }\n    })();\n    return this\n  }\n\n  /**\n   * stop ani\n   * @returns {WindyLayer}\n   */\n  stop () {\n    this._playing = true\n    if (this._animationLoop) window.cancelAnimFrame(this._animationLoop);\n    return this\n  }\n\n  /**\n   * clear layer\n   * @param forbidRedraw\n   * @returns {WindyLayer}\n   */\n  clear (forbidRedraw) {\n    this._tree.clear();\n    this.particles = null;\n    this._clearContext();\n    this._dirty = true;\n    return this;\n  }\n\n  /**\n   * get field from pixel\n   * @param pixel\n   * @returns {*}\n   */\n  calcField (pixel) {\n    const map = this.getMap();\n    const extent = this._getExtent();\n    const all = this._tree.all();\n    const count = all && all.length;\n    const divCount = Math.sqrt(count) || 1;\n    const expand = Math.max((extent[2] - extent[0]), (extent[3] - extent[1])) / divCount;\n    const coordinate = map.getCoordinateFromPixel(pixel);\n    if (count > 0) {\n      let i = 1;\n      let searched, searchedExtent;\n      do {\n        searchedExtent = [coordinate[0] - i * expand, coordinate[1] - i * expand, coordinate[0] + i * expand, coordinate[1] + i * expand];\n        searched = this._tree.search(searchedExtent);\n        i *= 2;\n      } while (!searched || searched.length === 0)\n      return this._interpolate(coordinate[0], coordinate[1], searchedExtent);\n    } else {\n      return NULL_WIND_VECTOR;\n    }\n  }\n\n  /**\n   * update layer\n   */\n  update () {\n    this._dirty = true;\n    this._draw();\n  }\n\n  /**\n   * clear context\n   * @private\n   */\n  _clearContext () {\n    const context = this.getContext();\n    context.clearRect(0, 0, this._canvas.width, this._canvas.height);\n  }\n\n  /**\n   * draw line\n   * @private\n   */\n  _draw () {\n    const map = this.getMap();\n    const context = this.getContext();\n    if (this._dirty) {\n      this._clearContext();\n      if (this._playing) {\n        setTimeout(() => {\n          this.buildGrid();\n          this._particles = null;\n        }, 1000 / this._options.frameRate); // 耗时，防止阻塞绘制\n      }\n    }\n    if (this._playing) {\n      this._particles = this._getParticles(this._gridColCount * this._gridRowCount * this._options.particleCountFactor);\n      this._evolve();\n      if (!this._batches) {\n        return;\n      }\n      // Fade existing particle trails.\n      context.save();\n      context.globalAlpha = this.getOpacity() || 0.75;\n      context.globalCompositeOperation = 'destination-out';\n      context.fillStyle = '#000';\n      context.fillRect(0, 0, this._canvas.width, this._canvas.height);\n      context.restore();\n      context.globalCompositeOperation = 'source-over';\n      context.lineWidth = this._options.lineWidth;\n      const extent = this._getExtent();\n      const gridSize = this._gridSize;\n      let [particle] = [{}];\n      for (let i = 0; i < this._batches.length; i++) {\n        const batch = this._batches[i];\n        context.beginPath();\n        context.strokeStyle = this._options.colors[i];\n        for (let j = 0; j < batch.length; j++) {\n          particle = batch[j] || {};\n          const x = extent[0] + gridSize * particle.x;\n          const y = extent[1] + gridSize * particle.y;\n          const xt = extent[0] + gridSize * particle.xt;\n          const yt = extent[1] + gridSize * particle.yt;\n          if (extent && (x < extent[0] || x > extent[2])) {\n            continue;\n          }\n          let pixel = map.getPixelFromCoordinate([x, y]);\n          context.moveTo(pixel[0], pixel[1]);\n          pixel = map.getPixelFromCoordinate([xt, yt]);\n          context.lineTo(pixel[0], pixel[1]);\n          particle.x = particle.xt;\n          particle.y = particle.yt;\n        }\n        context.stroke();\n      }\n    }\n  }\n\n  /**\n   * randomize\n   * @param age\n   * @returns {*}\n   * @private\n   */\n  _randomize (age) { // UNDONE: this method is terrible\n    return {\n      x: Math.round(Math.random() * this._gridColCount),\n      y: Math.round(Math.random() * this._gridRowCount),\n      age: age === undefined ? Math.floor(Math.random() * this._options.maxParticleAge) : age\n    };\n  }\n\n  /**\n   * get particles\n   * @param particleCount\n   */\n  _getParticles (particleCount) {\n    let particles = this._particles || [];\n    if (particles.length > particleCount) particles = particles.slice(0, particleCount);\n    for (let i = particles.length; i < particleCount; i++) {\n      particles.push(this._randomize(~~(Math.random() * this._options.maxParticleAge) + 0));\n    }\n    this._particles = particles;\n    return particles;\n  }\n\n  /**\n   * get field\n   * @param x\n   * @param y\n   * @returns {*}\n   * @private\n   */\n  _getField (x, y) {\n    if (!this._columns) return NULL_WIND_VECTOR;\n    const column = this._columns[Math.round(x)];\n    /* eslint-disable-next-line */\n    return (column && column[Math.round(y)] || NULL_WIND_VECTOR);\n  }\n\n  /**\n   * evolve\n   * @private\n   */\n  _evolve () {\n    const particles = this._particles;\n    if (!particles) {\n      return;\n    }\n    const batches = this._options.colors.map(function () {\n      return [];\n    });\n    const fieldScale = this._options.fieldFactor / this._options.fieldMaxIntensity;\n    let particle;\n    for (let i = 0; i < particles.length; i++) {\n      particle = particles[i];\n      if (particle.age > this._options.maxParticleAge) {\n        particle = particles[i] = this._randomize(0);\n      }\n      let [x, y] = [particle.x, particle.y];\n      let v = this._getField(x, y)\n      if (!v[2]) {\n        particle = particles[i] = this._randomize(0);\n      } else {\n        particle.xt = x + v[0] * fieldScale;\n        particle.yt = y + v[1] * fieldScale;\n        batches[this._colorIndex(v[2])].push(particle);\n      }\n      particle.age++;\n    }\n    this._batches = batches;\n  }\n\n  /**\n   * get inter polate\n   * @param x\n   * @param y\n   * @param searchExtent\n   * @returns {*}\n   * @private\n   */\n  _interpolate (x, y, searchExtent) {\n    const searches = this._tree.search(searchExtent);\n    if (!searches) {\n      return NULL_WIND_VECTOR;\n    }\n    let [Σux, Σvx, Σweight] = [0, 0, 0];\n    var dx, dy, dd, weight;\n    var dataPoint, u, v;\n    for (let i = 0, iLen = Math.min(this._options.interpolateCount, searches.length); i < iLen; i++) {\n      dataPoint = searches[i];\n      dx = dataPoint.x - x;\n      dy = dataPoint.y - y;\n      if (dx === 0 && dy === 0) {\n        u = dataPoint.u;\n        v = dataPoint.v;\n        return [u, v, Math.sqrt(u * u + v * v)];\n      }\n      dd = dx * dx + dy * dy;\n      weight = Math.sqrt(1 / dd);\n      Σux += dataPoint.u * weight;\n      Σvx += dataPoint.v * weight;\n      Σweight += weight;\n    }\n    if (Σweight > 0) {\n      u = Σux / Σweight;\n      v = Σvx / Σweight;\n      return [u, v, Math.sqrt(u * u + v * v)];\n    }\n    return NULL_WIND_VECTOR;\n  }\n\n  /**\n   * get color index\n   * @param m\n   * @returns {number}\n   * @private\n   */\n  _colorIndex (m) {\n    const fieldMaxIntensity = this._options.fieldMaxIntensity;\n    return Math.floor(Math.min(m, fieldMaxIntensity) / fieldMaxIntensity * (this._options.colors.length - 1));\n  }\n}\n\nexport default WindyLayer\n"],"names":["Object","assign","defineProperty","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","isMobile","test","navigator","userAgent","createCanvas","width","height","Canvas","document","canvas","createElement","bind","fn","context","args","Array","slice","apply","window","requestAnimFrame","immediate","element","f","request","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","getCancelAnimFrame","prefixs","func","cancelAnimationFrame","i","len","cancelAnimFrame","id","cancel","clearTimeout","this","rng","bytesToUuid","v4","v1","_options","NULL_WIND_VECTOR","NaN","WindyLayer","data","options","_canvas","_tree","rbush","_columns","_dirty","_playing","_animationLoop","isClear","setSource","ol","source","ImageCanvas","logo","state","attributions","resolutions","canvasFunction","projection","ratio","on","redraw","getData","setData","_map","getMap","us","vs","header","nx","ny","cols","rows","_projection","get","j","lat","Math","abs","lon","point","proj","transform","idx","u","v","addDataPoint","x","y","uid","value","feature","extent","uuid","insert","render","_getExtent","start","_extent","setExtent","buildGrid","map","_size","getSize","dim","max","gridDivs","min","gridPixels","gridMaxDivs","gridReduceFactor","gridSize","_gridSize","searches","search","count","divCount","sqrt","expand","tryExpand","tryCount","_gridColCount","ceil","_gridRowCount","grid","jLen","row","iLen","_interpolate","searchSteps","resolution","pixelRatio","size","getContext","_getMapSize","_view","getView","calculateExtent","appendTo","Map","set","addLayer","Error","clearWind","_cloneLayer","removeLayer","changed","renderSync","un","setMap","that","then","Date","now","frame","delta","frameRate","_evolve","_draw","stop","clear","forbidRedraw","particles","_clearContext","calcField","pixel","all","coordinate","getCoordinateFromPixel","searched","searchedExtent","update","clearRect","_particles","_getParticles","particleCountFactor","_batches","save","globalAlpha","getOpacity","globalCompositeOperation","fillStyle","fillRect","restore","lineWidth","particle","batch","beginPath","strokeStyle","colors","xt","yt","getPixelFromCoordinate","moveTo","lineTo","stroke","_randomize","age","round","random","undefined","floor","maxParticleAge","particleCount","push","_getField","column","batches","fieldScale","fieldFactor","fieldMaxIntensity","_colorIndex","searchExtent","Σux","Σvx","Σweight","dx","dy","dd","weight","dataPoint","interpolateCount","m","layer","Image"],"mappings":"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"}